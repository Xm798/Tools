# Author: Xm798
# Update: 2023-06-19
# Title: Clash Meta é…ç½®æ–‡ä»¶
# Description: è‡ªç”¨é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨äº† Mata æ ¸ç‰¹æ€§ï¼Œæ— æ³•ç”¨äºåŸç‰ˆ Clash æ ¸å’Œ Clash p æ ¸ã€‚æ”¯æŒ Meta æ ¸çš„å®¢æˆ·ç«¯å‚è§ï¼šhttps://docs.metacubex.one/used ã€‚

# ---------- ANCHORS ----------
anchors:
  proxy-groups:
    proxies_fallback: &proxies_fallback
        - ğŸ‡­ğŸ‡° é¦™æ¸¯
        - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
        - ğŸ‡¨ğŸ‡³ å°æ¹¾
        - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
        - ğŸ‡ºğŸ‡¸ ç¾å›½
        - ğŸ‡ºğŸ‡³ å…¶ä»–
    proxies_select: &proxies_select
        - ğŸ‰ æ•…éšœè½¬ç§»
        - ğŸ‡­ğŸ‡° é¦™æ¸¯
        - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
        - ğŸ‡¨ğŸ‡³ å°æ¹¾
        - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
        - ğŸ‡ºğŸ‡¸ ç¾å›½
        - ğŸ‡ºğŸ‡³ å…¶ä»–
        - ğŸš€ æ‰‹åŠ¨é€‰æ‹©
        - ğŸ¯ å…¨çƒç›´è¿
    proxies_normal: &proxies_normal
        - ğŸª èŠ‚ç‚¹é€‰æ‹©
        - ğŸ‡­ğŸ‡° é¦™æ¸¯
        - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
        - ğŸ‡¨ğŸ‡³ å°æ¹¾
        - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
        - ğŸ‡ºğŸ‡¸ ç¾å›½
        - ğŸ‡ºğŸ‡³ å…¶ä»–
        - ğŸš€ æ‰‹åŠ¨é€‰æ‹©
        - ğŸ¯ å…¨çƒç›´è¿
    proxies_lowmagf: &proxies_lowmagf
        - ğŸ—³ ä½å€ç‡èŠ‚ç‚¹
        - ğŸª èŠ‚ç‚¹é€‰æ‹©
        - ğŸ‡­ğŸ‡° é¦™æ¸¯
        - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
        - ğŸ‡¨ğŸ‡³ å°æ¹¾
        - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
        - ğŸ‡ºğŸ‡¸ ç¾å›½
        - ğŸ‡ºğŸ‡³ å…¶ä»–
        - ğŸš€ æ‰‹åŠ¨é€‰æ‹©
        - ğŸ¯ å…¨çƒç›´è¿
    proxies_directf: &proxies_directf
        - ğŸ¯ å…¨çƒç›´è¿
        - ğŸª èŠ‚ç‚¹é€‰æ‹©
        - ğŸ‡­ğŸ‡° é¦™æ¸¯
        - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
        - ğŸ‡¨ğŸ‡³ å°æ¹¾
        - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
        - ğŸ‡ºğŸ‡¸ ç¾å›½
        - ğŸ‡ºğŸ‡³ å…¶ä»–
        - ğŸš€ æ‰‹åŠ¨é€‰æ‹©

  proxies_urltest_conf: &proxies_urltest_conf
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 150
  proxies_fallback_conf: &proxies_fallback_conf
    type: fallback
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 150
  airport_common: &airport_common
    type: http
    interval: 86400
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 1800
  rule_providers:
    classical: &rule_providers_classical
      type: http
      behavior: classical
      interval: 86400
    domain: &rule_providers_domain
      type: http
      behavior: domain
      interval: 86400
    ipcidr: &rule_providers_ipcidr
      type: http
      behavior: ipcidr
      interval: 86400
  proxy-filters:
    proxy-filters-HK: &proxy-filters-HK "é¦™æ¸¯|HK|(?i)Hong"
    proxy-filters-SG: &proxy-filters-SG "æ–°åŠ å¡|SG|(?i)Singapore"
    proxy-filters-TW: &proxy-filters-TW "å°æ¹¾|TW|(?i)Taiwan"
    proxy-filters-JP: &proxy-filters-JP "æ—¥æœ¬|JP|(?i)Japan"
    proxy-filters-US: &proxy-filters-US "ç¾å›½|US|(?i)United States"
    proxy-filters-TR: &proxy-filters-TR "åœŸè€³å…¶|TUR|Turkey"
    proxy-filters-DE: &proxy-filters-DE "å¾·å›½|DE|(?i)Germany"
    proxy-filters-UK: &proxy-filters-UK "è‹±å›½|UK|(?i)United Kingdom"
    proxy-filters-NL: &proxy-filters-NL "è·å…°|NL|(?i)Netherlands"
    proxy-filters-FR: &proxy-filters-FR "æ³•å›½|FR|(?i)France"
    proxy-filters-IN: &proxy-filters-IN "å°åº¦|IN|(?i)India"
    proxy-filters-AR: &proxy-filters-AR "é˜¿æ ¹å»·|ARG|(?i)Argentina"
    proxy-filters-KR: &proxy-filters-KR "éŸ©å›½|KR|(?i)Korean"
    proxy-filters-RU: &proxy-filters-RU "ä¿„ç½—æ–¯|RU|(?i)Russia"
    proxy-filters-PH: &proxy-filters-PH "è²å¾‹å®¾|PH|(?i)Philippines"
    proxy-filters-MY: &proxy-filters-MY "é©¬æ¥è¥¿äºš|MY|(?i)Malaysia"
    proxy-filters-OTHER: &proxy-filters-OTHER "^((?!(é¦™æ¸¯|HK|(?i)Hong|å°æ¹¾|TW|(?i)Taiwan|æ—¥æœ¬|JP|(?i)Japan|æ–°åŠ å¡|(?i)Singapore|SG|ç¾å›½|(?i)United States|åˆ°æœŸ|å‰©ä½™æµé‡|æ—¶é—´|å®˜ç½‘|äº§å“|Traffic|Expire)).*)"
    proxy-filters-LOW-MAG: &proxy-filters-LOW-MAG 'å®éªŒæ€§|0\.1x|0\.2x'

# ---------- GENERAL ----------
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

# ---------- PROXY-PROVIDERS ----------
proxy-providers:
  AirPort1:
    <<: *airport_common
    url: "Your subscription link" # è¯·å¡«å†™ä½ çš„è®¢é˜…é“¾æ¥
    path: ./proxy_providers/AirPort1.yaml
  AirPort2:
    <<: *airport_common
    url: "Your subscription link" # è¯·å¡«å†™ä½ çš„è®¢é˜…é“¾æ¥
    path: ./proxy_providers/AirPort2.yaml

# ---------- PROXIES ----------
proxies: null

proxy-groups:
  - {name: ğŸ‰ æ•…éšœè½¬ç§», <<: *proxies_fallback_conf, interval: 180, proxies: *proxies_fallback}
  - {name: ğŸª èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: *proxies_select}
  - {name: ğŸ¤– AI Chat, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡]}
  - {name: ğŸ—³ï¸ PT ç«™ç‚¹, type: select, use: [AirPort1, AirPort2], filter: *proxy-filters-HK, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ æ‰‹åŠ¨é€‰æ‹©]}
  - {name: ğŸ’¾ ç½‘ç›˜æœåŠ¡,  type: select, proxies: *proxies_lowmagf}
  - {name: ğŸ“§ é‚®ä»¶æœåŠ¡,  type: select, proxies: *proxies_normal}
  - {name: ğŸ“¡ æµ‹é€ŸæœåŠ¡,  type: select, proxies: *proxies_directf}
  - {name: ğŸï¸ E-Hentai, type: select, proxies: *proxies_normal}
  - {name: ğŸŒ è°·æ­ŒæœåŠ¡,  type: select, proxies: *proxies_normal}
  - {name: ğŸ è‹¹æœæœåŠ¡,  type: select, proxies: *proxies_directf}
  - {name: ğŸ’¾ å¾®è½¯æœåŠ¡,  type: select, proxies: *proxies_directf}
  - {name: ğŸ® æ¸¸æˆæœåŠ¡,  type: select, proxies: *proxies_normal}
  - {name: ğŸ“º æ¸¯å°åª’ä½“,  type: select, proxies: *proxies_directf}
  - {name: ğŸ“¹ å›½é™…åª’ä½“,  type: select, proxies: *proxies_lowmagf}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼,  type: select, proxies: *proxies_normal}
  - {name: ğŸ§ª å­¦æœ¯æœåŠ¡, type: select, proxies: *proxies_directf}
  - {name: ğŸš€ æ‰‹åŠ¨é€‰æ‹©, type: select, use: [AirPort1, AirPort2]}

  - {name: ğŸ—³ ä½å€ç‡èŠ‚ç‚¹, <<: *proxies_urltest_conf, use: [AirPort2], *proxy-filters-LOW-MAG}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯, <<: *proxies_urltest_conf, use: [AirPort1], filter: *proxy-filters-HK}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, <<: *proxies_urltest_conf, use: [AirPort1], filter: *proxy-filters-SG}
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾, <<: *proxies_urltest_conf, use: [AirPort1, AirPort2], filter: *proxy-filters-TW}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬, <<: *proxies_urltest_conf, use: [AirPort1, AirPort2], filter: *proxy-filters-JP}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½, <<: *proxies_urltest_conf, use: [AirPort1, AirPort2], filter: *proxy-filters-US}
  - {name: ğŸ‡ºğŸ‡³ å…¶ä»–, type: select, use: [AirPort1, AirPort2], filter: *proxy-filters-OTHER}

  - {name: â›”ï¸ éšç§å¹¿å‘Š, type: select, proxies: [REJECT, ğŸ¯ å…¨çƒç›´è¿, ğŸª èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [DIRECT]}

# ---------- RULES ----------
rules:
  - RULE-SET,Proxy,ğŸª èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Direct,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Direct_2,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Advertising_Domain,â›”ï¸ éšç§å¹¿å‘Š
  - RULE-SET,Advertising,â›”ï¸ éšç§å¹¿å‘Š
  - RULE-SET,Scholar,ğŸ§ª å­¦æœ¯æœåŠ¡
  - RULE-SET,Scholar_2,ğŸ§ª å­¦æœ¯æœåŠ¡
  - RULE-SET,EHGallery,ğŸï¸ E-Hentai
  - RULE-SET,Lark,ğŸª èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,AI,ğŸ¤– AI Chat
  - RULE-SET,PT,ğŸ—³ï¸ PT ç«™ç‚¹
  - RULE-SET,Mail,ğŸ“§ é‚®ä»¶æœåŠ¡
  - RULE-SET,GoogleDrive,ğŸ’¾ ç½‘ç›˜æœåŠ¡
  - RULE-SET,DropBox,ğŸ’¾ ç½‘ç›˜æœåŠ¡
  - RULE-SET,Telegram,ğŸª èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Emby,ğŸ“¹ å›½é™…åª’ä½“
  - RULE-SET,AsianMedia,ğŸ“º æ¸¯å°åª’ä½“
  - RULE-SET,GlobalMedia,ğŸ“¹ å›½é™…åª’ä½“
  - RULE-SET,WeChat,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ProxyLite,ğŸª èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Speedtest,ğŸ“¡ æµ‹é€ŸæœåŠ¡
  - RULE-SET,Game,ğŸ® æ¸¸æˆæœåŠ¡
  - RULE-SET,Steam,ğŸ® æ¸¸æˆæœåŠ¡
  - RULE-SET,Epic,ğŸ® æ¸¸æˆæœåŠ¡
  - RULE-SET,Google,ğŸŒ è°·æ­ŒæœåŠ¡
  - RULE-SET,Microsoft,ğŸ’¾ å¾®è½¯æœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Global_Domain,ğŸª èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Global,ğŸª èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Lan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,PrivateTracker,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,China_Classical,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,China_IPs,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# ---------- RULE-PROVIDERS ----------
rule-providers:
  Proxy:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/Xm798/Tools@latest/ProxyRules/Clash/Proxy.yaml
    path: ./providers/rule-provider_Proxy_2.yaml
  Direct:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/Xm798/Tools@latest/ProxyRules/Clash/Direct.yaml
    path: ./providers/rule-provider_Direct_2.yaml
  Direct_2:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Direct/Direct.yaml
    path: ./providers/rule-provider_Direct_3.yaml
  Advertising_Domain:
    <<: *rule_providers_domain
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Advertising/Advertising_Domain.yaml
    path: ./providers/rule-provider_Advertising_Domain.yaml
  Advertising:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Advertising/Advertising.yaml
    path: ./providers/rule-provider_Advertising.yaml
  Scholar:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/Xm798/Tools@latest/ProxyRules/Clash/Scholar.yaml
    path: ./providers/rule-provider_Scholar.yaml
  Scholar_2:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Scholar/Scholar.yaml
    path: ./providers/rule-provider_Scholar_2.yaml
  EHGallery:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/EHGallery/EHGallery.yaml
    path: ./providers/rule-provider_EHGallery.yaml
  Lark:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/Xm798/Tools@latest/ProxyRules/Clash/Lark.yaml
    path: ./providers/rule-provider_Lark.yaml
  AI:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/Xm798/Tools@latest/ProxyRules/Clash/AI.yaml
    path: ./providers/rule-provider_AI.yaml
  PT:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/Xm798/Tools@latest/ProxyRules/Clash/PT.yaml
    path: ./providers/rule-provider_PT.yaml
  Mail:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Mail/Mail.yaml
    path: ./providers/rule-provider_Mail.yaml
  GoogleDrive:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GoogleDrive/GoogleDrive.yaml
    path: ./providers/rule-provider_Drive.yaml
  DropBox:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Dropbox/Dropbox.yaml
    path: ./providers/rule-provider_DropBox.yaml
  Telegram:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram.yaml
    path: ./providers/rule-provider_Telegram.yaml
  Emby:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Emby/Emby.yaml
    path: ./providers/rule-provider_Emby.yaml
  AsianMedia:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/AsianMedia/AsianMedia.yaml
    path: ./providers/rule-provider_AsianMedia.yaml
  GlobalMedia:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GlobalMedia/GlobalMedia.yaml
    path: ./providers/rule-provider_GlobalMedia.yaml
  WeChat:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/WeChat/WeChat.yaml
    path: ./providers/rule-provider_WeChat.yaml
  ProxyLite:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ProxyLite/ProxyLite.yaml
    path: ./providers/rule-provider_ProxyLite.yaml
  Speedtest:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Speedtest/Speedtest.yaml
    path: ./providers/rule-provider_Speedtest.yaml
  Game:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Game/Game.yaml
    path: ./providers/rule-provider_Game.yaml
  Steam:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Steam/Steam.yaml
    path: ./providers/rule-provider_Steam.yaml
  Epic:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Epic/Epic.yaml
    path: ./providers/rule-provider_Epic.yaml
  Google:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml
    path: ./providers/rule-provider_Google.yaml
  Microsoft:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml
    path: ./providers/rule-provider_Microsoft.yaml
  Apple:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple.yaml
    path: ./providers/rule-provider_Apple.yaml
  Global_Domain:
    <<: *rule_providers_domain
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Global/Global_Domain.yaml
    path: ./providers/rule-provider_Global_Domain.yaml
  Global:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Global/Global.yaml
    path: ./providers/rule-provider_Global.yaml
  Lan:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan.yaml
    path: ./providers/rule-provider_Lan.yaml
  PrivateTracker:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/PrivateTracker/PrivateTracker.yaml
    path: ./providers/rule-provider_PrivateTracker.yaml
  China_Classical:
    <<: *rule_providers_classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/China/China_Classical.yaml
    path: ./providers/rule-provider_China_Classical.yaml
  China_IPs:
    <<: *rule_providers_ipcidr
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ChinaIPs/ChinaIPs_IP.yaml
    path: ./providers/rule-provider_China_IPs.yaml
